(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["flowy-vue"]=e(require("vue")):t["flowy-vue"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(){var e={5580:function(t,e,n){var r=n(6110),o=n(9325),i=r(o,"DataView");t.exports=i},1549:function(t,e,n){var r=n(2032),o=n(3862),i=n(6721),a=n(2749),c=n(5749);function u(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,t.exports=u},79:function(t,e,n){var r=n(3702),o=n(80),i=n(4739),a=n(8655),c=n(1175);function u(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,t.exports=u},8223:function(t,e,n){var r=n(6110),o=n(9325),i=r(o,"Map");t.exports=i},3661:function(t,e,n){var r=n(3040),o=n(7670),i=n(289),a=n(4509),c=n(2949);function u(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,t.exports=u},2804:function(t,e,n){var r=n(6110),o=n(9325),i=r(o,"Promise");t.exports=i},6545:function(t,e,n){var r=n(6110),o=n(9325),i=r(o,"Set");t.exports=i},8859:function(t,e,n){var r=n(3661),o=n(1380),i=n(1459);function a(t){var e=-1,n=null==t?0:t.length;this.__data__=new r;while(++e<n)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},7217:function(t,e,n){var r=n(79),o=n(1420),i=n(938),a=n(3605),c=n(9817),u=n(945);function s(t){var e=this.__data__=new r(t);this.size=e.size}s.prototype.clear=o,s.prototype["delete"]=i,s.prototype.get=a,s.prototype.has=c,s.prototype.set=u,t.exports=s},1873:function(t,e,n){var r=n(9325),o=r.Symbol;t.exports=o},7828:function(t,e,n){var r=n(9325),o=r.Uint8Array;t.exports=o},8303:function(t,e,n){var r=n(6110),o=n(9325),i=r(o,"WeakMap");t.exports=i},3729:function(t){function e(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}t.exports=e},9770:function(t){function e(t,e){var n=-1,r=null==t?0:t.length,o=0,i=[];while(++n<r){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}t.exports=e},695:function(t,e,n){var r=n(8096),o=n(2428),i=n(6449),a=n(3656),c=n(361),u=n(7167),s=Object.prototype,l=s.hasOwnProperty;function f(t,e){var n=i(t),s=!n&&o(t),f=!n&&!s&&a(t),p=!n&&!s&&!f&&u(t),d=n||s||f||p,v=d?r(t.length,String):[],h=v.length;for(var g in t)!e&&!l.call(t,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||c(g,h))||v.push(g);return v}t.exports=f},4932:function(t){function e(t,e){var n=-1,r=null==t?0:t.length,o=Array(r);while(++n<r)o[n]=e(t[n],n,t);return o}t.exports=e},4528:function(t){function e(t,e){var n=-1,r=e.length,o=t.length;while(++n<r)t[o+n]=e[n];return t}t.exports=e},4248:function(t){function e(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}t.exports=e},6547:function(t,e,n){var r=n(3360),o=n(5288),i=Object.prototype,a=i.hasOwnProperty;function c(t,e,n){var i=t[e];a.call(t,e)&&o(i,n)&&(void 0!==n||e in t)||r(t,e,n)}t.exports=c},6025:function(t,e,n){var r=n(5288);function o(t,e){var n=t.length;while(n--)if(r(t[n][0],e))return n;return-1}t.exports=o},4733:function(t,e,n){var r=n(1791),o=n(5950);function i(t,e){return t&&r(e,o(e),t)}t.exports=i},3838:function(t,e,n){var r=n(1791),o=n(7241);function i(t,e){return t&&r(e,o(e),t)}t.exports=i},3360:function(t,e,n){var r=n(3243);function o(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}t.exports=o},9999:function(t,e,n){var r=n(7217),o=n(3729),i=n(6547),a=n(4733),c=n(3838),u=n(3290),s=n(3007),l=n(2271),f=n(8948),p=n(2),d=n(3349),v=n(5861),h=n(6189),g=n(7199),b=n(5529),y=n(6449),x=n(3656),m=n(7730),w=n(3805),j=n(8440),_=n(5950),O=1,k=2,A=4,$="[object Arguments]",D="[object Array]",B="[object Boolean]",N="[object Date]",S="[object Error]",C="[object Function]",P="[object GeneratorFunction]",E="[object Map]",F="[object Number]",M="[object Object]",z="[object RegExp]",L="[object Set]",I="[object String]",T="[object Symbol]",W="[object WeakMap]",V="[object ArrayBuffer]",U="[object DataView]",q="[object Float32Array]",R="[object Float64Array]",H="[object Int8Array]",X="[object Int16Array]",G="[object Int32Array]",J="[object Uint8Array]",K="[object Uint8ClampedArray]",Q="[object Uint16Array]",Y="[object Uint32Array]",Z={};function tt(t,e,n,D,B,N){var S,E=e&O,F=e&k,z=e&A;if(n&&(S=B?n(t,D,B,N):n(t)),void 0!==S)return S;if(!w(t))return t;var L=y(t);if(L){if(S=h(t),!E)return s(t,S)}else{var I=v(t),T=I==C||I==P;if(x(t))return u(t,E);if(I==M||I==$||T&&!B){if(S=F||T?{}:b(t),!E)return F?f(t,c(S,t)):l(t,a(S,t))}else{if(!Z[I])return B?t:{};S=g(t,I,E)}}N||(N=new r);var W=N.get(t);if(W)return W;N.set(t,S),j(t)?t.forEach((function(r){S.add(tt(r,e,n,r,t,N))})):m(t)&&t.forEach((function(r,o){S.set(o,tt(r,e,n,o,t,N))}));var V=z?F?d:p:F?keysIn:_,U=L?void 0:V(t);return o(U||t,(function(r,o){U&&(o=r,r=t[o]),i(S,o,tt(r,e,n,o,t,N))})),S}Z[$]=Z[D]=Z[V]=Z[U]=Z[B]=Z[N]=Z[q]=Z[R]=Z[H]=Z[X]=Z[G]=Z[E]=Z[F]=Z[M]=Z[z]=Z[L]=Z[I]=Z[T]=Z[J]=Z[K]=Z[Q]=Z[Y]=!0,Z[S]=Z[C]=Z[W]=!1,t.exports=tt},9344:function(t,e,n){var r=n(3805),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},909:function(t,e,n){var r=n(641),o=n(8329),i=o(r);t.exports=i},6574:function(t,e,n){var r=n(909);function o(t,e){var n=[];return r(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}t.exports=o},2523:function(t){function e(t,e,n,r){var o=t.length,i=n+(r?1:-1);while(r?i--:++i<o)if(e(t[i],i,t))return i;return-1}t.exports=e},6649:function(t,e,n){var r=n(3221),o=r();t.exports=o},641:function(t,e,n){var r=n(6649),o=n(5950);function i(t,e){return t&&r(t,e,o)}t.exports=i},7422:function(t,e,n){var r=n(1769),o=n(7797);function i(t,e){e=r(e,t);var n=0,i=e.length;while(null!=t&&n<i)t=t[o(e[n++])];return n&&n==i?t:void 0}t.exports=i},2199:function(t,e,n){var r=n(4528),o=n(6449);function i(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}t.exports=i},2552:function(t,e,n){var r=n(1873),o=n(659),i=n(9350),a="[object Null]",c="[object Undefined]",u=r?r.toStringTag:void 0;function s(t){return null==t?void 0===t?c:a:u&&u in Object(t)?o(t):i(t)}t.exports=s},8077:function(t){function e(t,e){return null!=t&&e in Object(t)}t.exports=e},7534:function(t,e,n){var r=n(2552),o=n(346),i="[object Arguments]";function a(t){return o(t)&&r(t)==i}t.exports=a},270:function(t,e,n){var r=n(7068),o=n(346);function i(t,e,n,a,c){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:r(t,e,n,a,i,c))}t.exports=i},7068:function(t,e,n){var r=n(7217),o=n(5911),i=n(1986),a=n(689),c=n(5861),u=n(6449),s=n(3656),l=n(7167),f=1,p="[object Arguments]",d="[object Array]",v="[object Object]",h=Object.prototype,g=h.hasOwnProperty;function b(t,e,n,h,b,y){var x=u(t),m=u(e),w=x?d:c(t),j=m?d:c(e);w=w==p?v:w,j=j==p?v:j;var _=w==v,O=j==v,k=w==j;if(k&&s(t)){if(!s(e))return!1;x=!0,_=!1}if(k&&!_)return y||(y=new r),x||l(t)?o(t,e,n,h,b,y):i(t,e,w,n,h,b,y);if(!(n&f)){var A=_&&g.call(t,"__wrapped__"),$=O&&g.call(e,"__wrapped__");if(A||$){var D=A?t.value():t,B=$?e.value():e;return y||(y=new r),b(D,B,n,h,y)}}return!!k&&(y||(y=new r),a(t,e,n,h,b,y))}t.exports=b},9172:function(t,e,n){var r=n(5861),o=n(346),i="[object Map]";function a(t){return o(t)&&r(t)==i}t.exports=a},1799:function(t,e,n){var r=n(7217),o=n(270),i=1,a=2;function c(t,e,n,c){var u=n.length,s=u,l=!c;if(null==t)return!s;t=Object(t);while(u--){var f=n[u];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}while(++u<s){f=n[u];var p=f[0],d=t[p],v=f[1];if(l&&f[2]){if(void 0===d&&!(p in t))return!1}else{var h=new r;if(c)var g=c(d,v,p,t,e,h);if(!(void 0===g?o(v,d,i|a,c,h):g))return!1}}return!0}t.exports=c},5083:function(t,e,n){var r=n(1882),o=n(7296),i=n(3805),a=n(7473),c=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,f=s.toString,p=l.hasOwnProperty,d=RegExp("^"+f.call(p).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(t){if(!i(t)||o(t))return!1;var e=r(t)?d:u;return e.test(a(t))}t.exports=v},6038:function(t,e,n){var r=n(5861),o=n(346),i="[object Set]";function a(t){return o(t)&&r(t)==i}t.exports=a},4901:function(t,e,n){var r=n(2552),o=n(294),i=n(346),a="[object Arguments]",c="[object Array]",u="[object Boolean]",s="[object Date]",l="[object Error]",f="[object Function]",p="[object Map]",d="[object Number]",v="[object Object]",h="[object RegExp]",g="[object Set]",b="[object String]",y="[object WeakMap]",x="[object ArrayBuffer]",m="[object DataView]",w="[object Float32Array]",j="[object Float64Array]",_="[object Int8Array]",O="[object Int16Array]",k="[object Int32Array]",A="[object Uint8Array]",$="[object Uint8ClampedArray]",D="[object Uint16Array]",B="[object Uint32Array]",N={};function S(t){return i(t)&&o(t.length)&&!!N[r(t)]}N[w]=N[j]=N[_]=N[O]=N[k]=N[A]=N[$]=N[D]=N[B]=!0,N[a]=N[c]=N[x]=N[u]=N[m]=N[s]=N[l]=N[f]=N[p]=N[d]=N[v]=N[h]=N[g]=N[b]=N[y]=!1,t.exports=S},5389:function(t,e,n){var r=n(3663),o=n(7978),i=n(3488),a=n(6449),c=n(583);function u(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):c(t)}t.exports=u},8984:function(t,e,n){var r=n(5527),o=n(3650),i=Object.prototype,a=i.hasOwnProperty;function c(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}t.exports=c},2903:function(t,e,n){var r=n(3805),o=n(5527),i=n(181),a=Object.prototype,c=a.hasOwnProperty;function u(t){if(!r(t))return i(t);var e=o(t),n=[];for(var a in t)("constructor"!=a||!e&&c.call(t,a))&&n.push(a);return n}t.exports=u},3663:function(t,e,n){var r=n(1799),o=n(776),i=n(7197);function a(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}t.exports=a},7978:function(t,e,n){var r=n(270),o=n(8156),i=n(631),a=n(8586),c=n(756),u=n(7197),s=n(7797),l=1,f=2;function p(t,e){return a(t)&&c(e)?u(s(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,l|f)}}t.exports=p},7237:function(t){function e(t){return function(e){return null==e?void 0:e[t]}}t.exports=e},7255:function(t,e,n){var r=n(7422);function o(t){return function(e){return r(e,t)}}t.exports=o},8096:function(t){function e(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}t.exports=e},7556:function(t,e,n){var r=n(1873),o=n(4932),i=n(6449),a=n(4394),c=1/0,u=r?r.prototype:void 0,s=u?u.toString:void 0;function l(t){if("string"==typeof t)return t;if(i(t))return o(t,l)+"";if(a(t))return s?s.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}t.exports=l},7301:function(t){function e(t){return function(e){return t(e)}}t.exports=e},9219:function(t){function e(t,e){return t.has(e)}t.exports=e},1769:function(t,e,n){var r=n(6449),o=n(8586),i=n(1802),a=n(3222);function c(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}t.exports=c},9653:function(t,e,n){var r=n(7828);function o(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}t.exports=o},3290:function(t,e,n){t=n.nmd(t);var r=n(9325),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o,c=a?r.Buffer:void 0,u=c?c.allocUnsafe:void 0;function s(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}t.exports=s},6169:function(t,e,n){var r=n(9653);function o(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}t.exports=o},3201:function(t){var e=/\w*$/;function n(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}t.exports=n},3736:function(t,e,n){var r=n(1873),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;function a(t){return i?Object(i.call(t)):{}}t.exports=a},1961:function(t,e,n){var r=n(9653);function o(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}t.exports=o},3007:function(t){function e(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r)e[n]=t[n];return e}t.exports=e},1791:function(t,e,n){var r=n(6547),o=n(3360);function i(t,e,n,i){var a=!n;n||(n={});var c=-1,u=e.length;while(++c<u){var s=e[c],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),a?o(n,s,l):r(n,s,l)}return n}t.exports=i},2271:function(t,e,n){var r=n(1791),o=n(4664);function i(t,e){return r(t,o(t),e)}t.exports=i},8948:function(t,e,n){var r=n(1791),o=n(6375);function i(t,e){return r(t,o(t),e)}t.exports=i},5481:function(t,e,n){var r=n(9325),o=r["__core-js_shared__"];t.exports=o},8329:function(t,e,n){var r=n(4894);function o(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);var i=n.length,a=e?i:-1,c=Object(n);while(e?a--:++a<i)if(!1===o(c[a],a,c))break;return n}}t.exports=o},3221:function(t){function e(t){return function(e,n,r){var o=-1,i=Object(e),a=r(e),c=a.length;while(c--){var u=a[t?c:++o];if(!1===n(i[u],u,i))break}return e}}t.exports=e},2006:function(t,e,n){var r=n(5389),o=n(4894),i=n(5950);function a(t){return function(e,n,a){var c=Object(e);if(!o(e)){var u=r(n,3);e=i(e),n=function(t){return u(c[t],t,c)}}var s=t(e,n,a);return s>-1?c[u?e[s]:s]:void 0}}t.exports=a},3243:function(t,e,n){var r=n(6110),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=o},5911:function(t,e,n){var r=n(8859),o=n(4248),i=n(9219),a=1,c=2;function u(t,e,n,u,s,l){var f=n&a,p=t.length,d=e.length;if(p!=d&&!(f&&d>p))return!1;var v=l.get(t);if(v&&l.get(e))return v==e;var h=-1,g=!0,b=n&c?new r:void 0;l.set(t,e),l.set(e,t);while(++h<p){var y=t[h],x=e[h];if(u)var m=f?u(x,y,h,e,t,l):u(y,x,h,t,e,l);if(void 0!==m){if(m)continue;g=!1;break}if(b){if(!o(e,(function(t,e){if(!i(b,e)&&(y===t||s(y,t,n,u,l)))return b.push(e)}))){g=!1;break}}else if(y!==x&&!s(y,x,n,u,l)){g=!1;break}}return l["delete"](t),l["delete"](e),g}t.exports=u},1986:function(t,e,n){var r=n(1873),o=n(7828),i=n(5288),a=n(5911),c=n(317),u=n(4247),s=1,l=2,f="[object Boolean]",p="[object Date]",d="[object Error]",v="[object Map]",h="[object Number]",g="[object RegExp]",b="[object Set]",y="[object String]",x="[object Symbol]",m="[object ArrayBuffer]",w="[object DataView]",j=r?r.prototype:void 0,_=j?j.valueOf:void 0;function O(t,e,n,r,j,O,k){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case m:return!(t.byteLength!=e.byteLength||!O(new o(t),new o(e)));case f:case p:case h:return i(+t,+e);case d:return t.name==e.name&&t.message==e.message;case g:case y:return t==e+"";case v:var A=c;case b:var $=r&s;if(A||(A=u),t.size!=e.size&&!$)return!1;var D=k.get(t);if(D)return D==e;r|=l,k.set(t,e);var B=a(A(t),A(e),r,j,O,k);return k["delete"](t),B;case x:if(_)return _.call(t)==_.call(e)}return!1}t.exports=O},689:function(t,e,n){var r=n(2),o=1,i=Object.prototype,a=i.hasOwnProperty;function c(t,e,n,i,c,u){var s=n&o,l=r(t),f=l.length,p=r(e),d=p.length;if(f!=d&&!s)return!1;var v=f;while(v--){var h=l[v];if(!(s?h in e:a.call(e,h)))return!1}var g=u.get(t);if(g&&u.get(e))return g==e;var b=!0;u.set(t,e),u.set(e,t);var y=s;while(++v<f){h=l[v];var x=t[h],m=e[h];if(i)var w=s?i(m,x,h,e,t,u):i(x,m,h,t,e,u);if(!(void 0===w?x===m||c(x,m,n,i,u):w)){b=!1;break}y||(y="constructor"==h)}if(b&&!y){var j=t.constructor,_=e.constructor;j==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof j&&j instanceof j&&"function"==typeof _&&_ instanceof _||(b=!1)}return u["delete"](t),u["delete"](e),b}t.exports=c},4840:function(t,e,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},2:function(t,e,n){var r=n(2199),o=n(4664),i=n(5950);function a(t){return r(t,i,o)}t.exports=a},3349:function(t,e,n){var r=n(2199),o=n(6375),i=n(7241);function a(t){return r(t,i,o)}t.exports=a},2651:function(t,e,n){var r=n(4218);function o(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}t.exports=o},776:function(t,e,n){var r=n(756),o=n(5950);function i(t){var e=o(t),n=e.length;while(n--){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}t.exports=i},6110:function(t,e,n){var r=n(5083),o=n(392);function i(t,e){var n=o(t,e);return r(n)?n:void 0}t.exports=i},8879:function(t,e,n){var r=n(4335),o=r(Object.getPrototypeOf,Object);t.exports=o},659:function(t,e,n){var r=n(1873),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=r?r.toStringTag:void 0;function u(t){var e=i.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(u){}var o=a.call(t);return r&&(e?t[c]=n:delete t[c]),o}t.exports=u},4664:function(t,e,n){var r=n(9770),o=n(3345),i=Object.prototype,a=i.propertyIsEnumerable,c=Object.getOwnPropertySymbols,u=c?function(t){return null==t?[]:(t=Object(t),r(c(t),(function(e){return a.call(t,e)})))}:o;t.exports=u},6375:function(t,e,n){var r=n(4528),o=n(8879),i=n(4664),a=n(3345),c=Object.getOwnPropertySymbols,u=c?function(t){var e=[];while(t)r(e,i(t)),t=o(t);return e}:a;t.exports=u},5861:function(t,e,n){var r=n(5580),o=n(8223),i=n(2804),a=n(6545),c=n(8303),u=n(2552),s=n(7473),l="[object Map]",f="[object Object]",p="[object Promise]",d="[object Set]",v="[object WeakMap]",h="[object DataView]",g=s(r),b=s(o),y=s(i),x=s(a),m=s(c),w=u;(r&&w(new r(new ArrayBuffer(1)))!=h||o&&w(new o)!=l||i&&w(i.resolve())!=p||a&&w(new a)!=d||c&&w(new c)!=v)&&(w=function(t){var e=u(t),n=e==f?t.constructor:void 0,r=n?s(n):"";if(r)switch(r){case g:return h;case b:return l;case y:return p;case x:return d;case m:return v}return e}),t.exports=w},392:function(t){function e(t,e){return null==t?void 0:t[e]}t.exports=e},9326:function(t,e,n){var r=n(1769),o=n(2428),i=n(6449),a=n(361),c=n(294),u=n(7797);function s(t,e,n){e=r(e,t);var s=-1,l=e.length,f=!1;while(++s<l){var p=u(e[s]);if(!(f=null!=t&&n(t,p)))break;t=t[p]}return f||++s!=l?f:(l=null==t?0:t.length,!!l&&c(l)&&a(p,l)&&(i(t)||o(t)))}t.exports=s},2032:function(t,e,n){var r=n(1042);function o(){this.__data__=r?r(null):{},this.size=0}t.exports=o},3862:function(t){function e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=e},6721:function(t,e,n){var r=n(1042),o="__lodash_hash_undefined__",i=Object.prototype,a=i.hasOwnProperty;function c(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return a.call(e,t)?e[t]:void 0}t.exports=c},2749:function(t,e,n){var r=n(1042),o=Object.prototype,i=o.hasOwnProperty;function a(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}t.exports=a},5749:function(t,e,n){var r=n(1042),o="__lodash_hash_undefined__";function i(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}t.exports=i},6189:function(t){var e=Object.prototype,n=e.hasOwnProperty;function r(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}t.exports=r},7199:function(t,e,n){var r=n(9653),o=n(6169),i=n(3201),a=n(3736),c=n(1961),u="[object Boolean]",s="[object Date]",l="[object Map]",f="[object Number]",p="[object RegExp]",d="[object Set]",v="[object String]",h="[object Symbol]",g="[object ArrayBuffer]",b="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",m="[object Int8Array]",w="[object Int16Array]",j="[object Int32Array]",_="[object Uint8Array]",O="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]";function $(t,e,n){var $=t.constructor;switch(e){case g:return r(t);case u:case s:return new $(+t);case b:return o(t,n);case y:case x:case m:case w:case j:case _:case O:case k:case A:return c(t,n);case l:return new $;case f:case v:return new $(t);case p:return i(t);case d:return new $;case h:return a(t)}}t.exports=$},5529:function(t,e,n){var r=n(9344),o=n(8879),i=n(5527);function a(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}t.exports=a},361:function(t){var e=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function r(t,r){var o=typeof t;return r=null==r?e:r,!!r&&("number"==o||"symbol"!=o&&n.test(t))&&t>-1&&t%1==0&&t<r}t.exports=r},8586:function(t,e,n){var r=n(6449),o=n(4394),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function c(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(a.test(t)||!i.test(t)||null!=e&&t in Object(e))}t.exports=c},4218:function(t){function e(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=e},7296:function(t,e,n){var r=n(5481),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function i(t){return!!o&&o in t}t.exports=i},5527:function(t){var e=Object.prototype;function n(t){var n=t&&t.constructor,r="function"==typeof n&&n.prototype||e;return t===r}t.exports=n},756:function(t,e,n){var r=n(3805);function o(t){return t===t&&!r(t)}t.exports=o},3702:function(t){function e(){this.__data__=[],this.size=0}t.exports=e},80:function(t,e,n){var r=n(6025),o=Array.prototype,i=o.splice;function a(t){var e=this.__data__,n=r(e,t);if(n<0)return!1;var o=e.length-1;return n==o?e.pop():i.call(e,n,1),--this.size,!0}t.exports=a},4739:function(t,e,n){var r=n(6025);function o(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}t.exports=o},8655:function(t,e,n){var r=n(6025);function o(t){return r(this.__data__,t)>-1}t.exports=o},1175:function(t,e,n){var r=n(6025);function o(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}t.exports=o},3040:function(t,e,n){var r=n(1549),o=n(79),i=n(8223);function a(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}t.exports=a},7670:function(t,e,n){var r=n(2651);function o(t){var e=r(this,t)["delete"](t);return this.size-=e?1:0,e}t.exports=o},289:function(t,e,n){var r=n(2651);function o(t){return r(this,t).get(t)}t.exports=o},4509:function(t,e,n){var r=n(2651);function o(t){return r(this,t).has(t)}t.exports=o},2949:function(t,e,n){var r=n(2651);function o(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}t.exports=o},317:function(t){function e(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}t.exports=e},7197:function(t){function e(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}t.exports=e},2224:function(t,e,n){var r=n(104),o=500;function i(t){var e=r(t,(function(t){return n.size===o&&n.clear(),t})),n=e.cache;return e}t.exports=i},1042:function(t,e,n){var r=n(6110),o=r(Object,"create");t.exports=o},3650:function(t,e,n){var r=n(4335),o=r(Object.keys,Object);t.exports=o},181:function(t){function e(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=e},6009:function(t,e,n){t=n.nmd(t);var r=n(4840),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o,c=a&&r.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||c&&c.binding&&c.binding("util")}catch(e){}}();t.exports=u},9350:function(t){var e=Object.prototype,n=e.toString;function r(t){return n.call(t)}t.exports=r},4335:function(t){function e(t,e){return function(n){return t(e(n))}}t.exports=e},9325:function(t,e,n){var r=n(4840),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},1380:function(t){var e="__lodash_hash_undefined__";function n(t){return this.__data__.set(t,e),this}t.exports=n},1459:function(t){function e(t){return this.__data__.has(t)}t.exports=e},4247:function(t){function e(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}t.exports=e},1420:function(t,e,n){var r=n(79);function o(){this.__data__=new r,this.size=0}t.exports=o},938:function(t){function e(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}t.exports=e},3605:function(t){function e(t){return this.__data__.get(t)}t.exports=e},9817:function(t){function e(t){return this.__data__.has(t)}t.exports=e},945:function(t,e,n){var r=n(79),o=n(8223),i=n(3661),a=200;function c(t,e){var n=this.__data__;if(n instanceof r){var c=n.__data__;if(!o||c.length<a-1)return c.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(c)}return n.set(t,e),this.size=n.size,this}t.exports=c},1802:function(t,e,n){var r=n(2224),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=a},7797:function(t,e,n){var r=n(4394),o=1/0;function i(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}t.exports=i},7473:function(t){var e=Function.prototype,n=e.toString;function r(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}t.exports=r},8055:function(t,e,n){var r=n(9999),o=1,i=4;function a(t){return r(t,o|i)}t.exports=a},5288:function(t){function e(t,e){return t===e||t!==t&&e!==e}t.exports=e},7612:function(t,e,n){var r=n(9770),o=n(6574),i=n(5389),a=n(6449);function c(t,e){var n=a(t)?r:o;return n(t,i(e,3))}t.exports=c},7309:function(t,e,n){var r=n(2006),o=n(4713),i=r(o);t.exports=i},4713:function(t,e,n){var r=n(2523),o=n(5389),i=n(1489),a=Math.max;function c(t,e,n){var c=null==t?0:t.length;if(!c)return-1;var u=null==n?0:i(n);return u<0&&(u=a(c+u,0)),r(t,o(e,3),u)}t.exports=c},8156:function(t,e,n){var r=n(7422);function o(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}t.exports=o},631:function(t,e,n){var r=n(8077),o=n(9326);function i(t,e){return null!=t&&o(t,e,r)}t.exports=i},3488:function(t){function e(t){return t}t.exports=e},2428:function(t,e,n){var r=n(7534),o=n(346),i=Object.prototype,a=i.hasOwnProperty,c=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!c.call(t,"callee")};t.exports=u},6449:function(t){var e=Array.isArray;t.exports=e},4894:function(t,e,n){var r=n(1882),o=n(294);function i(t){return null!=t&&o(t.length)&&!r(t)}t.exports=i},3656:function(t,e,n){t=n.nmd(t);var r=n(9325),o=n(9935),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,c=a&&a.exports===i,u=c?r.Buffer:void 0,s=u?u.isBuffer:void 0,l=s||o;t.exports=l},1882:function(t,e,n){var r=n(2552),o=n(3805),i="[object AsyncFunction]",a="[object Function]",c="[object GeneratorFunction]",u="[object Proxy]";function s(t){if(!o(t))return!1;var e=r(t);return e==a||e==c||e==i||e==u}t.exports=s},294:function(t){var e=9007199254740991;function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}t.exports=n},7730:function(t,e,n){var r=n(9172),o=n(7301),i=n(6009),a=i&&i.isMap,c=a?o(a):r;t.exports=c},9843:function(t){function e(t){return null==t}t.exports=e},3805:function(t){function e(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=e},346:function(t){function e(t){return null!=t&&"object"==typeof t}t.exports=e},8440:function(t,e,n){var r=n(6038),o=n(7301),i=n(6009),a=i&&i.isSet,c=a?o(a):r;t.exports=c},4394:function(t,e,n){var r=n(2552),o=n(346),i="[object Symbol]";function a(t){return"symbol"==typeof t||o(t)&&r(t)==i}t.exports=a},7167:function(t,e,n){var r=n(4901),o=n(7301),i=n(6009),a=i&&i.isTypedArray,c=a?o(a):r;t.exports=c},5950:function(t,e,n){var r=n(695),o=n(8984),i=n(4894);function a(t){return i(t)?r(t):o(t)}t.exports=a},7241:function(t,e,n){var r=n(695),o=n(2903),i=n(4894);function a(t){return i(t)?r(t,!0):o(t)}t.exports=a},104:function(t,e,n){var r=n(3661),o="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},583:function(t,e,n){var r=n(7237),o=n(7255),i=n(8586),a=n(7797);function c(t){return i(t)?r(a(t)):o(t)}t.exports=c},3345:function(t){function e(){return[]}t.exports=e},9935:function(t){function e(){return!1}t.exports=e},7400:function(t,e,n){var r=n(9374),o=1/0,i=17976931348623157e292;function a(t){if(!t)return 0===t?t:0;if(t=r(t),t===o||t===-o){var e=t<0?-1:1;return e*i}return t===t?t:0}t.exports=a},1489:function(t,e,n){var r=n(7400);function o(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}t.exports=o},9374:function(t,e,n){var r=n(3805),o=n(4394),i=NaN,a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function f(t){if("number"==typeof t)return t;if(o(t))return i;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||s.test(t)?l(t.slice(2),n?2:8):c.test(t)?i:+t}t.exports=f},3222:function(t,e,n){var r=n(7556);function o(t){return null==t?"":r(t)}t.exports=o},6262:function(t,e){"use strict";e.A=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n}},9274:function(e){"use strict";e.exports=t}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,loaded:!1,exports:{}};return e[t](i,i.exports,r),i.loaded=!0,i.exports}!function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){r.p=""}();var o={};return function(){"use strict";if(r.r(o),r.d(o,{Flowy:function(){return p},FlowyBlock:function(){return I},FlowyDragHandle:function(){return G},FlowyNewBlock:function(){return q},FlowyNode:function(){return F},default:function(){return Z},install:function(){return J}}),"undefined"!==typeof window){var t=window.document.currentScript,e=t&&t.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);e&&(r.p=e[1])}var n=r(9274);const i={ref:"flowyRef",id:"flowy-tree"};function a(t,e,r,o,a,c){const u=(0,n.resolveComponent)("FlowyNode");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["flowy",{dragging:c.dragging}])},[(0,n.createElementVNode)("div",i,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(c.parentNodes,(o=>((0,n.openBlock)(),(0,n.createBlock)(u,(0,n.mergeProps)({ref_for:!0},t.$props,{node:o,key:o.id,onDragStart:e[0]||(e[0]=t=>c.onDragStart(t)),onDragStop:e[1]||(e[1]=t=>c.onDragStop(t)),onEnterDrop:e[2]||(e[2]=t=>c.onEnterDrop(t)),onMove:e[3]||(e[3]=e=>t.$emit("move",e)),"before-move":c.onBeforeMove,"before-add":c.onBeforeAdd,"is-dragging":c.dragging||null,zoom:r.zoom,"dragging-node":a.draggingNode,onDragReceived:e[4]||(e[4]=e=>t.$emit("drag-received",e))}),null,16,["node","before-move","before-add","is-dragging","zoom","dragging-node"])))),128))],512)],2)}r(7309);var c=r(7612),u=r.n(c),s={props:{nodes:{type:Array,required:!1},beforeMove:{type:Function,default:()=>!0},beforeAdd:{type:Function,default:()=>!0},zoom:{type:Number,default:1}},data(){return{draggingNode:null}},computed:{parentNodes(){return u()(this.nodes,{parentId:-1})},rows(){return[this.parentNodes]},dragging(){return!1!==this.draggingNode&&null!==this.draggingNode}},methods:{setNotDragging(){setTimeout((()=>{this.draggingNode=null}),50)},onBeforeMove(t){return this.beforeMove({to:t,from:this.draggingNode})},onBeforeAdd(t){return this.beforeAdd({to:t})},onDrop(){this.setNotDragging()},onDragStart(t){this.draggingNode=t.node,this.$emit("drag-start",t)},onDragStop(t){this.setNotDragging(),this.$emit("drag-stop",t)},onEnterDrop(t){this.$emit("enter-drop",{to:t.to,from:this.draggingNode})},getChildren(t){return u()(this.nodes,{parentId:t})},onDragEnd(t){}}},l=r(6262);const f=(0,l.A)(s,[["render",a]]);var p=f;const d={class:"flowy-node flex flex-col flex-no-wrap items-center relative overflow-visible",ref:"flowy-node"},v={class:"dimensionBox",style:{},ref:"block"},h={class:"flowy-tree flex flex-row flex-no-wrap overflow-visible mt-74px"};function g(t,e,r,o,i,a){const c=(0,n.resolveComponent)("ConnectorLine"),u=(0,n.resolveComponent)("DropIndicator"),s=(0,n.resolveComponent)("flowy-block"),l=(0,n.resolveComponent)("flowy-node",!0);return(0,n.openBlock)(),(0,n.createElementBlock)("div",d,[(0,n.createVNode)(s,(0,n.mergeProps)({...t.$props,...a.passedProps},{draggable:"true",onDragstart:e[4]||(e[4]=t=>a.onStart(r.node,t)),onDragend:e[5]||(e[5]=t=>a.onStop(r.node,t)),data:r.node,remove:a.removeNode,"no-children":!a.hasChildren}),{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",v,null,512),!a.isTopParent&&i.mounted?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,verticalOffset:"",styling:a.lineMargins,path:a.linePath},null,8,["styling","path"])):(0,n.createCommentVNode)("",!0),r.node.noConnector?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,vertical:"",styling:a.lineMarginsDown,path:a.linePathDown,"no-children":!a.hasChildren||null},null,8,["styling","path","no-children"])),(0,n.createVNode)(u,{show:a.showIndicator,"not-allowed":!i.dropAllowed},null,8,["show","not-allowed"]),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)([{isDragging:r.isDragging},"node-dropzone"]),onDragenter:e[0]||(e[0]=t=>a.onEnterDrag({to:r.node})),onDragleave:e[1]||(e[1]=t=>a.onLeaveDrag(t)),onDrop:e[2]||(e[2]=t=>a.onDragReceive({...t,to:r.node})),onDragover:e[3]||(e[3]=(0,n.withModifiers)((()=>{}),["prevent"]))},null,34)])),_:1},16,["data","remove","no-children"]),(0,n.createElementVNode)("div",h,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(a.children,((e,r)=>((0,n.openBlock)(),(0,n.createBlock)(l,(0,n.mergeProps)({key:e.id,ref_for:!0},{...t.$props,...t.$attrs},{index:r,"total-children":a.children.length,node:e,ref_for:!0,ref:e.id,"parent-x":a.xPos}),null,16,["index","total-children","node","parent-x"])))),128))])],512)}r(9843);var b=r(8156),y=r.n(b),x=r(8055),m=r.n(x);const w={class:"flowy-line",preserveaspectratio:"none",fill:"none",xmlns:"http://www.w3.org/2000/svg"},j=["d"],_={key:0};function O(t,e,r,o,i,a){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{style:(0,n.normalizeStyle)(r.styling),class:(0,n.normalizeClass)(["flowy-line-block overflow-visible",{"flowy-line-block--vertical":r.vertical,"-mt-74px":r.verticalOffset,"no-children":r.noChildren||null}])},[((0,n.openBlock)(),(0,n.createElementBlock)("svg",w,[(0,n.createElementVNode)("path",{d:r.path,stroke:"#C5CCD0","stroke-width":"2px"},null,8,j),r.showArrow?((0,n.openBlock)(),(0,n.createElementBlock)("path",_)):(0,n.createCommentVNode)("",!0)]))],6)}var k={name:"ConnectorLine",props:{styling:Object,vertical:Boolean,verticalOffset:Boolean,path:String,showArrow:Boolean,noChildren:Boolean}};const A=(0,l.A)(k,[["render",O]]);var $=A;function D(t,e,r,o,i,a){return(0,n.openBlock)(),(0,n.createBlock)(n.Transition,{name:"scale"},{default:(0,n.withCtx)((()=>[(0,n.withDirectives)((0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["indicator",{"not-allowed":r.notAllowed}])},null,2),[[n.vShow,r.show]])])),_:1})}var B={name:"DropIndicator",props:{show:Boolean,notAllowed:Boolean}};const N=(0,l.A)(B,[["render",D],["__scopeId","data-v-5a394e40"]]);var S=N;function C(t){const e=t.getBoundingClientRect();return{left:e.left+e.width/2}}var P={name:"FlowyNode",components:{ConnectorLine:$,DropIndicator:S},props:{index:{type:Number,required:!1},totalChildren:{type:Number,required:!1},node:{type:Object,required:!0},nodes:{type:Array,required:!0},parentX:{type:Number,required:!1},beforeMove:{type:Function,default:()=>!0},beforeAdd:{type:Function,default:()=>!0},isDragging:{type:Boolean},zoom:{type:Number,default:1},draggingNode:{type:Object,default:null}},data(){return{hoveringWithDrag:!1,mounted:!1,xPosProxy:0,width:0,dropAllowed:!0,timer:null}},mounted(){this.mounted=!0,this.setWidth()},unmounted(){clearInterval(this.timer)},updated(){this.$nextTick((()=>{this.setWidth()}))},watch:{zoom(){this.setWidth()}},computed:{xPos(){return this.mounted?this.xPosProxy:0},hasChildren(){return this.children.length>0},showIndicator(){return this.hoveringWithDrag},lineMarginsDown(){return{marginLeft:this.blockWidth/2+"px"}},lineMargins(){const t=this.parentX-this.xPosProxy;return{marginLeft:`${this.blockWidth/2+(Math.abs(t)<5?t:0)}px`}},lineTotalHeight(){return 74},isOddChildren(){return 1===Math.abs(this.totalChildren%2)},isMiddle(){return this.isOddChildren&&this.index+1===Math.ceil(this.totalChildren/2)},isLeftSide(){return this.index+1<=Math.ceil(this.totalChildren/2)},lineStartX(){return this.blockWidth/2},blockWidth(){return this.width},holderWidth(){return this.$refs.block.parentElement.offsetWidth},rowWidth(){return this.$refs.block.parentElement.parentElement.offsetWidth},isTopParent(){return-1===this.node.parentId},children(){return u()(this.nodes,{parentId:this.node.id})},passedProps(){return this.node.props},linePathDown(){const t=this.lineTotalHeight;return`M0 0L0 ${t/2}L0 ${t/2}L0 ${t/2}`},linePath(){const t=this.lineTotalHeight/2;let e=this.lengthFromMiddle;const n=this.isLeftSide?"":"-",r=12;return e&&this.isFirstOrLast?`M${n}${e} ${t}\n                L${n}${e} ${t}\n                L${n}${r} ${t}\n                A ${r} ${r} 0 0 ${this.isLeftSide?0:1} 0 ${t+r}\n                L0 ${t+r}\n                L0 ${this.lineTotalHeight}`:(this.isFirstOrLast||(e=0),`M${n}${e} ${t}L${n}${e} ${t}L0 ${t}L0 ${this.lineTotalHeight}`)},isFirstOrLast(){return 1!==this.totalChildren&&(0===this.index||this.index===this.totalChildren-1)},lengthFromMiddle(){return Math.abs(this.xPos-this.parentX)/this.zoom}},methods:{setWidth(){if(void 0===this.$refs.block)return;const t=C(this.$refs.block).left;0!==t&&(this.xPosProxy=t,this.width=this.$refs.block.offsetWidth)},removeNode(){this.$emit("remove",{node:this.node}),this.setWidth()},draggingNodeFromEvent(t){return y()(t,"oldComponent.$attrs.data.draggingNode",!1)},dropzoneNodeFromEvent(t){return y()(t,"newComponent.$attrs.data.dropzoneNode",!1)},blockFromNewNodeEvent(t){const e=y()(t,"oldComponent.$attrs.data",!1);return{nodeComponent:e.componentName,data:m()(e.props)}},onStart(t,e){e.target.querySelectorAll(":scope > .flowy-drag-handle.draggable").length?(this.mirror=e.target.cloneNode(!0),this.mirror.style.setProperty("position","absolute","important"),this.mirror.style.bottom="-100px",this.mirror.style.right="0px",this.mirror.classList.add("draggable-mirror"),document.body.appendChild(this.mirror),e.dataTransfer.setDragImage(this.mirror,100,100),setTimeout((()=>{this.$emit("drag-start",{node:t})})),e.stopPropagation()):e.preventDefault()},onStop(t,e){this.mirror&&this.mirror.remove(),this.$emit("drag-stop"),this.hoveringWithDrag=!1},onDrop(t){this.mirror&&this.mirror.remove(),this.$emit("drag-stop"),this.hoveringWithDrag=!1},onDragReceive(t){this.hoveringWithDrag=!1;const e=this.draggingNode,n=t.to;if(!1===e){const e=this.blockFromNewNodeEvent(t);this.newNode(e,this.node)}else{const t=this.beforeMove(n);t&&this.moveNode(e,n)}this.$emit("drag-received",{to:n,from:e}),this.dropAllowed=!0,this.setWidth(),this.onStop()},onEnterDrag(t){this.hoveringWithDrag=!0,this.dropAllowed=this.beforeMove(t.to)},onLeaveDrag(t){this.hoveringWithDrag=!1},newNode(t,e){const n=this.beforeAdd(t);n&&this.$emit("add",{node:{parentId:e.id,...t}}),this.setWidth()},moveNode(t,e){this.$emit("move",{dragged:t,to:e})}}};const E=(0,l.A)(P,[["render",g]]);var F=E;const M=["data-id"];var z={__name:"FlowyBlock",props:{node:{type:Object,required:!0},remove:{type:Function,required:!0},noChildren:Boolean},setup(t){const e=t,r=(0,n.computed)((()=>e.node.nodeComponent)),o=(0,n.computed)((()=>e.node.data));return(e,i)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["flowy-block mr-24px relative",{"no-children":t.noChildren||null,[t.node.customClass]:!0}]),"data-id":`node-${t.node.id}`},[(0,n.renderSlot)(e.$slots,"default"),((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(r.value),(0,n.mergeProps)({...e.$props,...e.$attrs,...o.value},{ref:"block"}),null,16))],10,M))}};const L=z;var I=L;const T={class:"flowy-block mr-24px relative"};function W(t,e,r,o,i,a){return(0,n.openBlock)(),(0,n.createElementBlock)("div",T,[(0,n.createElementVNode)("div",{draggable:"true",onDragstart:e[0]||(e[0]=t=>o.onStart(o.nodeData)),onDragend:e[1]||(e[1]=t=>o.onStop(o.nodeData))},[(0,n.renderSlot)(t.$slots,"preview")],32)])}var V={__name:"FlowyNewBlock",emits:["drag-start","drag-stop"],setup(t,{expose:e,emit:r}){e();const o=(0,n.ref)({componentName:"",props:{}}),i=(0,n.useSlots)();(0,n.onMounted)((()=>{const t=i.node()[0];t&&t.type===Object&&(o.value.componentName=t.componentOptions.tag,o.value.props={...t.componentOptions.propsData,...t.data.attrs})}));const a=(0,n.computed)((()=>o.value)),c=r,u=t=>{c("drag-start",t)},s=t=>{c("drag-stop",t)},l={node:o,slots:i,nodeData:a,emit:c,onStart:u,onStop:s,ref:n.ref,computed:n.computed,onMounted:n.onMounted,useSlots:n.useSlots};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}};const U=(0,l.A)(V,[["render",W]]);var q=U;function R(t,e,r,o,i,a){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(["draggable",{"flowy-drag-handle":r.draggable}])},[(0,n.renderSlot)(t.$slots,"default")],2)}var H={name:"FlowyDragHandle",props:{draggable:{type:Boolean,default:!0}}};const X=(0,l.A)(H,[["render",R]]);var G=X;function J(t){const e=t;e.component("Flowy",p),e.component("FlowyNode",F),e.component("FlowyBlock",I),e.component("FlowyNewBlock",q),e.component("FlowyDragHandle",G)}const K={install:J};let Q=null;"undefined"!==typeof window?Q=window.Vue:"undefined"!==typeof r.g&&(Q=r.g.Vue),Q&&Q.use(K);var Y=K,Z=Y}(),o}()}));